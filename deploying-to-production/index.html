



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="System for Emerging Market Analytics">
      
      
        <link rel="canonical" href="https://untapped-inc.github.io/sema-docs/deploying-to-production/">
      
      
        <meta name="author" content="Untapped, Inc.">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/untapped-favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>Deploying to Production - SEMA Technical Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/style.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#deploying-to-production-things-are-getting-serious" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://untapped-inc.github.io/sema-docs/" title="SEMA Technical Documentation" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/untapped-favicon.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                SEMA Technical Documentation
              </span>
              <span class="md-header-nav__topic">
                Deploying to Production
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/untapped-inc/sema-core/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      untapped-inc/sema-core
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://untapped-inc.github.io/sema-docs/" title="SEMA Technical Documentation" class="md-nav__button md-logo">
      
        <img src="../assets/images/untapped-favicon.png" width="48" height="48">
      
    </a>
    SEMA Technical Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/untapped-inc/sema-core/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      untapped-inc/sema-core
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Deploying to Production
      </label>
    
    <a href="./" title="Deploying to Production" class="md-nav__link md-nav__link--active">
      Deploying to Production
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-setup" title="Server Setup" class="md-nav__link">
    Server Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-creating-a-sudo-user" title="1. Creating a Sudo User" class="md-nav__link">
    1. Creating a Sudo User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-generating-and-linking-an-ssh-key-to-your-github-account" title="2. Generating and Linking an SSH Key to Your Github Account" class="md-nav__link">
    2. Generating and Linking an SSH Key to Your Github Account
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-setup" title="MySQL Setup" class="md-nav__link">
    MySQL Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-user-and-granting-permissions" title="Creating a new user and granting permissions" class="md-nav__link">
    Creating a new user and granting permissions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurations" title="Configurations" class="md-nav__link">
    Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-dashboard-client" title="Building the dashboard client" class="md-nav__link">
    Building the dashboard client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serving-the-api-and-the-dashboard-client" title="Serving the API and the dashboard client" class="md-nav__link">
    Serving the API and the dashboard client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-pos-apk" title="Building the POS APK" class="md-nav__link">
    Building the POS APK
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing" title="Customizing" class="md-nav__link">
    Customizing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up" title="Setting up" class="md-nav__link">
    Setting up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-the-pos-app" title="Renaming the POS app" class="md-nav__link">
    Renaming the POS app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebranding-the-pos-app" title="Rebranding the POS app" class="md-nav__link">
    Rebranding the POS app
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" title="Building" class="md-nav__link">
    Building
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-go-from-here" title="Where to go From Here?" class="md-nav__link">
    Where to go From Here?
  </a>
  
</li>
      
      
      
      
        
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../staying-in-harmony/" title="Keeping your fork up to date" class="md-nav__link">
      Keeping your fork up to date
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../the-database-schema/" title="The Database Schema" class="md-nav__link">
      The Database Schema
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      The REST API Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        The REST API Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/health-check/" title="sema/health-check" class="md-nav__link">
      sema/health-check
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/login/" title="sema/login" class="md-nav__link">
      sema/login
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/kiosks/" title="sema/kiosks" class="md-nav__link">
      sema/kiosks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/products/" title="sema/products" class="md-nav__link">
      sema/products
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/sales-channels/" title="sema/sales-channels" class="md-nav__link">
      sema/sales-channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/general/customer-types/" title="sema/customer-types" class="md-nav__link">
      sema/customer-types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Point of Sale (POS) specific
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Point of Sale (POS) specific
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/pos/customers/" title="sema/site/customers" class="md-nav__link">
      sema/site/customers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/pos/receipts/" title="sema/site/receipts" class="md-nav__link">
      sema/site/receipts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/pos/product-mrps/" title="sema/site/product-mrps" class="md-nav__link">
      sema/site/product-mrps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      Dashboard/Reports specific
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        Dashboard/Reports specific
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/customer-summary/" title="sema/dashboard/site/customer-summary" class="md-nav__link">
      sema/dashboard/site/customer-summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/receipt-summary/" title="sema/dashboard/site/receipt-summary" class="md-nav__link">
      sema/dashboard/site/receipt-summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/sales-summary/" title="sema/dashboard/site/sales-summary" class="md-nav__link">
      sema/dashboard/site/sales-summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/water-summary/" title="sema/dashboard/site/water-summary" class="md-nav__link">
      sema/dashboard/site/water-summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/water-chart/" title="sema/dashboard/site/water-chart" class="md-nav__link">
      sema/dashboard/site/water-chart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rest-api/dashboard/sales-by-channel-history/" title="sema/dashboard/site/sales-by-channel-history" class="md-nav__link">
      sema/dashboard/site/sales-by-channel-history
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      The Dashboard Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        The Dashboard Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/redux/" title="Redux" class="md-nav__link">
      Redux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/water-operations/" title="Water Operations" class="md-nav__link">
      Water Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/sales/" title="Sales" class="md-nav__link">
      Sales
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/volumes/" title="Volumes" class="md-nav__link">
      Volumes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dashboard/demographics/" title="Demographics" class="md-nav__link">
      Demographics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      The POS Mobile Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        The POS Mobile Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pos/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Components
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2-1" type="checkbox" id="nav-8-2-1">
    
    <label class="md-nav__link" for="nav-8-2-1">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-2-1">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pos/general/Login/" title="Login" class="md-nav__link">
      Login
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1" type="checkbox" id="nav-9-1">
    
    <label class="md-nav__link" for="nav-9-1">
      Dashboard
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-1">
        Dashboard
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/dashboard/0.0.0.7/" title="0.0.0.7" class="md-nav__link">
      0.0.0.7
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      POS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        POS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/pos/0.4.2/" title="0.4.2" class="md-nav__link">
      0.4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/pos/0.3.2/" title="0.3.2" class="md-nav__link">
      0.3.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/pos/0.3.1/" title="0.3.1" class="md-nav__link">
      0.3.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/pos/0.0.8/" title="0.0.8" class="md-nav__link">
      0.0.8
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-setup" title="Server Setup" class="md-nav__link">
    Server Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-creating-a-sudo-user" title="1. Creating a Sudo User" class="md-nav__link">
    1. Creating a Sudo User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-generating-and-linking-an-ssh-key-to-your-github-account" title="2. Generating and Linking an SSH Key to Your Github Account" class="md-nav__link">
    2. Generating and Linking an SSH Key to Your Github Account
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-setup" title="MySQL Setup" class="md-nav__link">
    MySQL Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-user-and-granting-permissions" title="Creating a new user and granting permissions" class="md-nav__link">
    Creating a new user and granting permissions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurations" title="Configurations" class="md-nav__link">
    Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-dashboard-client" title="Building the dashboard client" class="md-nav__link">
    Building the dashboard client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serving-the-api-and-the-dashboard-client" title="Serving the API and the dashboard client" class="md-nav__link">
    Serving the API and the dashboard client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-pos-apk" title="Building the POS APK" class="md-nav__link">
    Building the POS APK
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing" title="Customizing" class="md-nav__link">
    Customizing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up" title="Setting up" class="md-nav__link">
    Setting up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-the-pos-app" title="Renaming the POS app" class="md-nav__link">
    Renaming the POS app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebranding-the-pos-app" title="Rebranding the POS app" class="md-nav__link">
    Rebranding the POS app
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" title="Building" class="md-nav__link">
    Building
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-go-from-here" title="Where to go From Here?" class="md-nav__link">
    Where to go From Here?
  </a>
  
</li>
      
      
      
      
        
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/untapped-inc/sema-docs/edit/master/docs/deploying-to-production.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="deploying-to-production-things-are-getting-serious">Deploying to production <small>Things are getting serious</small><a class="headerlink" href="#deploying-to-production-things-are-getting-serious" title="Permanent link">&para;</a></h1>
<p>This section is a tutorial on how to deploy the system in production mode. The previous section was about running it locally and we strongly recommend that you go through the process before you start with this one because they have a lot in common.</p>
<p>In fact, we will not go over some details that we covered in that section, so please, <a href="sema-docs/getting-started">go through it</a> if you haven't done so yet.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li>A linux server - preferably Ubuntu - with SSH access. We use <a href="https://digitalocean.com">DigitalOcean</a>.</li>
<li>Install nvm: Follow <a href="https://github.com/creationix/nvm#installation">this link</a> for instructions.</li>
<li>Install latest LTS version of Node and npm: <code class="codehilite">nvm install --lts</code></li>
<li>Install Yarn: <code class="codehilite">npm i -g yarn</code></li>
<li>Install MySQL: Follow <a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-16-04">this link for Ubuntu 16.04</a> Or find the right turorial for your version of Ubuntu.</li>
<li>Install react-scripts (To be able to build the client): <code class="codehilite">yarn global add react-scripts</code></li>
<li>Fork the project repo through Github: Follow <a href="https://help.github.com/articles/fork-a-repo/">this link</a> for instructions.</li>
<li>Nginx (Reverse Proxy): <code class="codehilite">sudo apt install nginx</code></li>
<li>Pm2 (Robust Process Manager): <code class="codehilite">yarn global add pm2</code></li>
<li>Clone your new Git repo to your server: <code class="codehilite">git clone https://github.com/YOUR-USERNAME/sema-core.git</code> - Make sure to change <mark>YOUR-USERNAME</mark> to your Github username.</li>
<li>Move into your new folder: <code class="codehilite">cd sema-core</code></li>
<li>From this point on, we expect that you are in the root directory of the project.</li>
</ul>
<h2 id="deploying">Deploying<a class="headerlink" href="#deploying" title="Permanent link">&para;</a></h2>
<p>Assuming you have a Linux server ready and you've installed all the necessary prerequisites <em>correctly</em>, let's get started.</p>
<h3 id="server-setup">Server Setup<a class="headerlink" href="#server-setup" title="Permanent link">&para;</a></h3>
<p>The SSH server is ready but it's not setup yet, let's get this taken care of.</p>
<h4 id="1-creating-a-sudo-user">1. Creating a Sudo User<a class="headerlink" href="#1-creating-a-sudo-user" title="Permanent link">&para;</a></h4>
<p>Follow those steps to create a new sudo user so you don't have to login as root:</p>
<ul>
<li>Login to the server as the root user:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ssh root@SERVER_IP_ADDRESS
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>Replace <code class="codehilite">SERVER_IP_ADDRESS</code> with the IP address of your SSH server</p>
</div>
<ul>
<li>Use the <code class="codehilite">adduser</code> command to add a new user to your system.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>adduser username
</pre></div>
</td></tr></table>

<div class="admonition note">
<ul>
<li>Be sure to replace <code class="codehilite">username</code> with the user that you want to create.</li>
<li>Set and confirm the new user's password at the prompt. A strong password is highly recommended!</li>
<li>Follow the prompts to set the new user's information. It is fine to accept the defaults to leave all of this information blank.</li>
</ul>
</div>
<ul>
<li>Use the <code class="codehilite">usermod</code> command to add the user to the sudo group.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>usermod -aG sudo username
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>By default, on Ubuntu, members of the sudo group have sudo privileges.</p>
</div>
<ul>
<li>
<p>Test sudo access on new user account</p>
<ul>
<li>
<p>Use the <code class="codehilite">su</code> command to switch to the new user account.</p>
<p><code class="codehilite">su - username</code></p>
</li>
<li>
<p>As the new user, verify that you can use sudo by prepending "sudo" to the command that you want to run with superuser privileges.</p>
<p><code class="codehilite">sudo command_to_run</code></p>
</li>
<li>
<p>For example, you can list the contents of the /root directory, which is normally only accessible to the root user.</p>
<p><code class="codehilite">sudo ls -la /root</code></p>
</li>
<li>
<p>The first time you use sudo in a session, you will be prompted for the password of the user account. Enter the password to proceed.</p>
<div class="admonition note">
<p>If your user is in the proper group and you entered the password correctly, the command that you issued with sudo should run with root privileges.</p>
</div>
</li>
</ul>
</li>
<li>
<p>Logout of the sudo user account</p>
<p><code class="codehilite">exit</code></p>
</li>
<li>
<p>Logout of the root account</p>
<p><code class="codehilite">exit</code></p>
</li>
<li>
<p>From now on, only login through the sudo account you just created, it is not safe to access and deploy a project on an SSH server using root.</p>
<p><code class="codehilite">ssh username@SERVER_IP_ADDRESS</code></p>
</li>
</ul>
<h4 id="2-generating-and-linking-an-ssh-key-to-your-github-account">2. Generating and Linking an SSH Key to Your Github Account<a class="headerlink" href="#2-generating-and-linking-an-ssh-key-to-your-github-account" title="Permanent link">&para;</a></h4>
<p>This one is an optional step. Linking an SSH key to your Github account will save you time when pulling from Github. It won't ask you for a password anymore.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Notice our use of <code class="codehilite">pulling</code> here and not <code class="codehilite">pushing</code> too. We strongly discourage you to make changes to the codebase from a production server.</p>
<p>If you're going to make changes that you want to save to your repo, make them on a development machine, push them to your repo and pull them from the production one.</p>
</div>
<p>This will also make your connection with Github even more secure.</p>
<p>Github already has some great documentation for those:</p>
<ol>
<li>Generating a new SSH key: <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#platform-linux">Github Docs</a></li>
<li>Adding/Linking an SSH key to your Github account: <a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/#platform-linux">Github docs</a></li>
</ol>
<h3 id="mysql-setup">MySQL Setup<a class="headerlink" href="#mysql-setup" title="Permanent link">&para;</a></h3>
<p>While installing MySQL, you should have received a prompt to enter a password for the root MySQL user. You will need it for subsequent root connections.</p>
<p>With MySQL installed, let's start by running the <code class="codehilite">mysql_secure_installation</code> script that comes with MySQL:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>mysql_secure_installation
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>This will show you some best practices for installing MySQL on a production server. It's up to you to activate/deactivate some options as suggested.</p>
<p>Whatever you do here won't affect our deployment.</p>
</div>
<h4 id="creating-a-new-user-and-granting-permissions">Creating a new user and granting permissions<a class="headerlink" href="#creating-a-new-user-and-granting-permissions" title="Permanent link">&para;</a></h4>
<ul>
<li>Connect to the MySQL server as root:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>mysql -uroot -p
</pre></div>
</td></tr></table>

<ul>
<li>Create the new user</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>CREATE USER &#39;USERNAME&#39;@&#39;%&#39; IDENTIFIED BY &#39;PASSWORD&#39;;
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>Make sure to replace <code class="codehilite">USERNAME</code> and <code class="codehilite">PASSWORD</code> with your own values</p>
</div>
<ul>
<li>Grant privileges to the new user</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>GRANT ALL PRIVILEGES ON *.* TO &#39;USERNAME&#39;@&#39;%&#39;;
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>The asterisks in this command refer to the database and table (respectively) that they can access. This specific command allows to the user to read, edit, execute and perform all tasks across all the databases and tables.</p>
<p>In this example we are granting newuser full root access to everything in our database. While this is helpful for explaining some MySQL concepts, it may be impractical for most use cases and could put your databaseâ€™s security at high risk.</p>
</div>
<ul>
<li>Once you have finalized the permissions that you want to set up for your new users, always be sure to reload all the privileges.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>FLUSH PRIVILEGES;
</pre></div>
</td></tr></table>

<ul>
<li>Logout of the root user connection.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>exit
</pre></div>
</td></tr></table>

<ul>
<li>Login as the new user.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>mysqk -uUSERNAME -p
</pre></div>
</td></tr></table>

<h3 id="configurations">Configurations<a class="headerlink" href="#configurations" title="Permanent link">&para;</a></h3>
<p>Let's now setup the configuration file, follow the instructions in <a href="/sema-docs/getting-started/#configurations">this sub-section</a>.</p>
<h3 id="building-the-dashboard-client">Building the dashboard client<a class="headerlink" href="#building-the-dashboard-client" title="Permanent link">&para;</a></h3>
<p>Let's keep going by creating an optimized production build of the dashboard client:</p>
<ul>
<li>Move into the <code class="codehilite">report_client</code> directory: <code class="codehilite">cd report_client</code></li>
<li>Install client dependencies: <code class="codehilite">yarn</code></li>
<li>Build the client: <code class="codehilite">yarn build</code></li>
</ul>
<div class="admonition info">
<p>If you get a fatal error about not having enough memory while building the client, just add this - <code class="codehilite">GENERATE_SOURCEMAP=false</code> - to the .env file of the <code class="codehilite">report_client</code> directory and then run yarn build again:</p>
<p><code class="codehilite">echo &#39;GENERATE_SOURCEMAP=false&#39; &gt;&gt; .env &amp;&amp; yarn build</code></p>
</div>
<ul>
<li>Create a new <code class="codehilite">public_react</code> folder into the <code class="codehilite">report_server</code> directory: </li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>mkdir ../report_server/public_react
</pre></div>
</td></tr></table>

<ul>
<li>Copy the entire build folder from <code class="codehilite">report_client/build</code> to the <code class="codehilite">report_server/public_react</code> folder:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>cp -rf ./build ../report_server/public_react
</pre></div>
</td></tr></table>

<h3 id="serving-the-api-and-the-dashboard-client">Serving the API and the dashboard client<a class="headerlink" href="#serving-the-api-and-the-dashboard-client" title="Permanent link">&para;</a></h3>
<p>Now that we have the dashboard client ready to be served, let's:</p>
<ul>
<li>Switch to the <code class="codehilite">report_server</code> directory: <code class="codehilite">cd ../report_server</code></li>
<li>Assuming you've <a href="/sema-docs/getting-started/#configurations">configured your <code class="codehilite"><span class="na">.env</span></code> file correctly</a>, install server dependencies: <code class="codehilite">yarn</code></li>
<li>Start the server with PM2: <code class="codehilite">pm2 start bin/www --name sema-server</code>.</li>
</ul>
<div class="admonition note">
<p>Name it however you want so you can easily refer to it later.</p>
</div>
<ul>
<li>Get your server IP address.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>curl icanhazip.com
</pre></div>
</td></tr></table>

<ul>
<li>Test the server access via curl - Since we haven't configured Nginx yet, we'll test it from port 3001.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>curl http://YOUR_SERVER_IP_ADDRESS:3001/untapped/health-check
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>Replace <code class="codehilite">YOUR_SERVER_IP_ADDRESS</code> with your SSH server IP address.</p>
<p>This should return something like <code class="codehilite">{&quot;server&quot;:&quot;Ok&quot;,&quot;database&quot;:&quot;Ok&quot;}</code></p>
</div>
<ul>
<li>
<p>Setup Ngninx using <a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04">this tutorial</a></p>
</li>
<li>
<p>Configure Nginx by editing - <em>WITH SUPER USER</em> - /etc/nginx/sites-available/default.</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>sudo vim /etc/nginx/sites-available/default
</pre></div>
</td></tr></table>

<ul>
<li>Within the server block, there is an existing <code class="codehilite">location /</code> block. Replace the contents of that block with the following configuration.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">location</span> <span class="o">/</span> <span class="p">{</span>
    <span class="err">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="o">:</span><span class="mi">3001</span><span class="p">;</span>
    <span class="err">proxy_http_version</span> <span class="err">1.1</span><span class="p">;</span>
    <span class="err">proxy_set_header</span> <span class="err">Upgrade</span> <span class="err">$http_upgrade</span><span class="p">;</span>
    <span class="err">proxy_set_header</span> <span class="err">Connection</span> <span class="err">&#39;upgrade&#39;</span><span class="p">;</span>
    <span class="err">proxy_set_header</span> <span class="err">Host</span> <span class="err">$host</span><span class="p">;</span>
    <span class="err">proxy_cache_bypass</span> <span class="err">$http_upgrade</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<ul>
<li>Make sure you didn't introduce any syntax errors: <code class="codehilite">sudo nginx -t</code></li>
<li>Restart Nginx: <code class="codehilite">sudo systemctl restart nginx</code></li>
<li>Test the server access without using the port:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>curl http://YOUR-SERVER-IP-ADDRESS/untapped/health-check
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>This should return something like <code class="codehilite">{&quot;server&quot;:&quot;Ok&quot;,&quot;database&quot;:&quot;Ok&quot;}</code>.</p>
<p>You can now setup DNS zone records for your server.</p>
</div>
<h3 id="building-the-pos-apk">Building the POS APK<a class="headerlink" href="#building-the-pos-apk" title="Permanent link">&para;</a></h3>
<p>We will now build a customized version of the POS app.</p>
<div class="admonition info">
<p>For this part, do not do it on the SSH server. Do it locally on your development machine.</p>
</div>
<h4 id="customizing">Customizing<a class="headerlink" href="#customizing" title="Permanent link">&para;</a></h4>
<p>Customizing the POS app for your SWE is a breeze. Let's get to it.</p>
<h5 id="setting-up">Setting up<a class="headerlink" href="#setting-up" title="Permanent link">&para;</a></h5>
<ul>
<li>Follow the Android setup steps at <a href="https://facebook.github.io/react-native/docs/getting-started.html#content">the official react native  docs</a>. Make sure you select the appropriate tabs in the instructions.<ul>
<li>"Building Projects with Native Code"</li>
<li>"Development OS: macOS or Windows or Linux.</li>
<li>Target OS: Android"</li>
</ul>
</li>
</ul>
<h5 id="renaming-the-pos-app">Renaming the POS app<a class="headerlink" href="#renaming-the-pos-app" title="Permanent link">&para;</a></h5>
<p>To rename the POS app, simply use our <code class="codehilite">rename</code> yarn/npm script.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>yarn rename APPNAME &quot;ON-SCREEN APP NAME&quot;
</pre></div>
</td></tr></table>

<div class="admonition note">
<p>The <code class="codehilite">rename</code> script takes two arguments, <code class="codehilite">APPNAME</code> and <code class="codehilite">ON-SCREEN APP NAME</code>.</p>
<p><code class="codehilite">APPNAME</code> is the internal name the Android application will use for the app.</p>
<p><code class="codehilite">ON-SCREEN APP NAME</code> is the name the user will see on the screen once the app is installed on the device. Notice it's between quotes while <code class="codehilite">APPNAME</code> is not, the on-screen name can have spaces while the internal name cannot. i.e.:</p>
<p><code class="codehilite">yarn rename JIBUPOS &quot;SEMA Jibu&quot;</code></p>
</div>
<h5 id="rebranding-the-pos-app">Rebranding the POS app<a class="headerlink" href="#rebranding-the-pos-app" title="Permanent link">&para;</a></h5>
<p>Rebranding involves changing the logos on the POS app, the on-screen app logo and the background of the login screen.</p>
<p>At the time of writing, here's what the current logo looks like:
<img alt="Current SWE Logo" src="../assets/images/swe-logo.png" /></p>
<div class="admonition note">
<p>There's a white text on the logo, try to drag it around to notice it.</p>
</div>
<p>and here's what the background of the login screen looks like:
<img alt="Current Login Background" src="../assets/images/swe-login.jpg" /></p>
<p>Follow those steps to change those images to your liking:</p>
<ul>
<li>For the login screen background image, it must be a <code class="codehilite">jpg</code> file, simply replace the file located at <code class="codehilite">mobile_client/src/images/swe-login.jpg</code> with your own image. A good base size for this image would be a width of 758 and a height of 563 - 758 x 563.</li>
</ul>
<div class="admonition note">
<p>Make sure you name your new image to <code class="codehilite">swe-login.jpg</code> or it will not show up on the POS app once it's built.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>It your image is a <code class="codehilite">png</code> file, you can simply rename it to a <code class="codehilite">jpg</code> file, it will still work.</p>
</div>
<ul>
<li>For the logo and on-screen app image, it must be a <code class="codehilite">png</code> file. Rename your new logo to <code class="codehilite">ic_launcher.png</code></li>
<li>Go to the <a href="http://nsimage.brosteins.com/">NativeScrip Image Builder</a> website</li>
<li>In the <code class="codehilite">Upload an Image</code> section, select <code class="codehilite">Static Image - Android</code></li>
<li>Browse for your <code class="codehilite">ic_launcher.png</code> file</li>
<li>Press <code class="codehilite">Upload App Image</code></li>
</ul>
<p>It will download the app images to your computer as a <code class="codehilite">zip</code> file.</p>
<ul>
<li>After extracting the <code class="codehilite">zip</code> file, rename the folders named <code class="codehilite">drawable-hdpi</code>, <code class="codehilite">drawable-mdpi</code>, <code class="codehilite">drawable-xhdpi</code> and <code class="codehilite">drawable-xxhdpi</code> to <code class="codehilite">mipmap-hdpi</code>, <code class="codehilite">mipmap-mdpi</code>, <code class="codehilite">mipmap-xhdpi</code> and <code class="codehilite">mipmap-xxhdpi</code> respectively.</li>
<li>Select and copy the 4 new folders you just renamed and paste them in the directory located at <code class="codehilite">mobile_client/android/app/src/main/res</code>. Replace the ones that were already there.</li>
</ul>
<p>Your app is now ready to be built.</p>
<h4 id="building">Building<a class="headerlink" href="#building" title="Permanent link">&para;</a></h4>
<p>To build the POS apk file simply use the <code class="codehilite">build_sema_apk.sh</code> script in the <code class="codehilite">mobile_client</code> directory.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>sh build_sema_apk.sh
</pre></div>
</td></tr></table>

<p>Here's an example usage of this script:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Generating the signing key
Password: // I enter my sudo user password
Enter keystore password: // I enter a new password for the keystore that&#39;s going to be generated
Re-enter new password: // I re-enter the same password for confirmation
What is your first and last name?
  [Unknown]:  Nick Rameau
What is the name of your organizational unit?
  [Unknown]:  Software Development
What is the name of your organization?
  [Unknown]:  Untapped, Inc.
What is the name of your City or Locality?
  [Unknown]:  Port-au-Prince
What is the name of your State or Province?
  [Unknown]:  Ouest
What is the two-letter country code for this unit?
  [Unknown]:  HT
Is CN=Nick Rameau, OU=Software Development, O=&quot;Untapped, Inc.&quot;, L=Port-au-Prince, ST=Ouest, C=HT correct?
  [no]:  yes

Generating 2,048 bit RSA key pair and self-signed certificate (SHA256withRSA) with a validity of 10,000 days
    for: CN=Nick Rameau, OU=Software Development, O=&quot;Untapped, Inc.&quot;, L=Port-au-Prince, ST=Ouest, C=HT
[Storing android/app/sema-pos-key.keystore]

Enter your keystore password again: // I re-enter my keystore password
Adding keystore password to the gradle config file
Generating the release APK

...
</pre></div>
</td></tr></table>

<p>And you should get a <code class="codehilite">BUILD_SUCCESSFUL</code> message at the end of the script output message.</p>
<p>You now have an APK file of your customized POS app.</p>
<div class="admonition info">
<p>The APK file is located at <code class="codehilite">mobile_client/android/app/build/outputs/apk/release</code>. It's named <code class="codehilite">app-release.apk</code>. Feel free to rename this file however you like.</p>
<p>The build script generated a <code class="codehilite">keystore</code> file at <code class="codehilite">mobile_client/android/app</code> named <code class="codehilite">sema-pos-key.keystore</code>.<br>You will need this file if you ever decide to host the APK file on the Google Play store. Without this file, you won't be able to send updates to the Play store for your app.</p>
</div>
<!-- TODO: Add link to UI docs on how to connect to the server. -->

<p>And that's it! You now have the whole platform running in production. Neat.</p>
<h2 id="where-to-go-from-here">Where to go From Here?<a class="headerlink" href="#where-to-go-from-here" title="Permanent link">&para;</a></h2>
<p>Now that you have SEMA running successfully for your SWE. Here are some interesting links:</p>
<ul>
<li><a href="https://gitter.im/sema-dev/" target="_blank">Join the community chat</a> so you can have 24/7 support for free from both the community and the core developers of SEMA.</li>
<li><a href="/sema-docs/the-database-schema">The Database Schema</a></li>
<li><a href="/sema-docs/rest-api/overview">The REST API Server</a></li>
<li><a href="/sema-docs/dashboard/overview">The Dashboard client</a>
<!-- * <a href="/the-pos-client">The POS client</a> --></li>
</ul>
<p>Feel free to leave a comment down below for any questions and clarifications.</p>
                
                  
                
              
              
                

  


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://untapped-inc.github.io/sema-docs/deploying-to-production/";
      this.page.identifier =
        "deploying-to-production/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//sema-docs.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting-started/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting Started
              </span>
            </div>
          </a>
        
        
          <a href="../staying-in-harmony/" title="Keeping your fork up to date" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Keeping your fork up to date
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Untapped, Inc.
          </div>
        
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="http://semawater.org" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/untapped-inc/sema-core" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>